# DynamoDB Schema

| Partition Key   | Sort Key                            | Attributes                                                                                                                                                                                                                                                                                                                                                                                               |
| --------------- | ----------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| cancer#cancerId | cancer#cancerId                     | <ul><li>name</li><li>description</li></ul>                                                                                                                                                                                                                                                                                                                                                               |
| gene#geneId     | gene#geneId                         | <ul><li>name</li><li>description</li></ul>                                                                                                                                                                                                                                                                                                                                                               |
|                 | caseSummary#cancerId                | <ul><li>meanProteinLogRatioControl</li><li>meanProteinLogRatioTumor</li><li>meanPhosphoproteinLogRatioControl</li><li>meanPhosphoproteinLogRatioTumor</li><li>meanHtSeqCountControl</li><li>meanHtSeqCountTumor</li><li>meanRnaSeqValueControl</li><li>meanRnaSeqValueTumor</li><li>pValue</li></ul>                                                                                                     |
|                 | case#cancerId#caseId                | <ul><li>proteinLogRatioControl</li><li>proteinLogRatioTumor</li><li>proteinlogRatioChange</li><li>phosphoproteinLogRatioControl</li><li>phosphoproteinLogRatioTumor</li><li>phosphoproteinlogRatioChange</li><li>phosphopeptide</li><li>phosphorylationSite</li><li>copyNumberVariations</li><li>htSeqCountControl</li><li>htSeqCountTumor</li><li>rnaSeqValueControl</li><li>rnaSeqValueTumor</li></ul> |
|                 | mutation#cancerId#caseId#mutationId | <ul><li>mutationType</li><li>codingStrandMutation</li><li>proteinMutation</li><li>startPosition</li><li>endPosition</li></ul>                                                                                                                                                                                                                                                                            |

# Import Process

1. A list of sources is specified in the `sources.json` file.
2. A temporary SQLite database is used to normalize, validate, and join source datasets in a unified view.
3. This unified view is then imported into the DynamoDB table.
4. A lookup file for genes and cancer types is also created and uploaded to static storage (to reduce read unit consumption).
